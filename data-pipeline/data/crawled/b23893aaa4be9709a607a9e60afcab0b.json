{
    "id": "b23893aaa4be9709a607a9e60afcab0b",
    "metadata": {
        "id": "b23893aaa4be9709a607a9e60afcab0b",
        "url": "https://github.com/turboderp/exllamav2/",
        "title": "GitHub - turboderp-org/exllamav2: A fast inference library for running LLMs locally on modern consumer-class GPUs",
        "properties": {
            "description": "A fast inference library for running LLMs locally on modern consumer-class GPUs - turboderp-org/exllamav2",
            "keywords": null,
            "author": null,
            "og:image": "https://opengraph.githubassets.com/8d884684e1d857af49429eecfd161f431292a7b91b2933241b4a63c1439c7ac9/turboderp-org/exllamav2",
            "og:image:alt": "A fast inference library for running LLMs locally on modern consumer-class GPUs - turboderp-org/exllamav2",
            "og:image:width": "1200",
            "og:image:height": "600",
            "og:site_name": "GitHub",
            "og:type": "object",
            "og:title": "GitHub - turboderp-org/exllamav2: A fast inference library for running LLMs locally on modern consumer-class GPUs",
            "og:url": "https://github.com/turboderp-org/exllamav2",
            "og:description": "A fast inference library for running LLMs locally on modern consumer-class GPUs - turboderp-org/exllamav2",
            "twitter:image": "https://opengraph.githubassets.com/8d884684e1d857af49429eecfd161f431292a7b91b2933241b4a63c1439c7ac9/turboderp-org/exllamav2",
            "twitter:site": "@github",
            "twitter:card": "summary_large_image",
            "twitter:title": "GitHub - turboderp-org/exllamav2: A fast inference library for running LLMs locally on modern consumer-class GPUs",
            "twitter:description": "A fast inference library for running LLMs locally on modern consumer-class GPUs - turboderp-org/exllamav2"
        }
    },
    "parent_metadata": {
        "id": "d47ca8af2f92a16ebae1c14ca130b6dd",
        "url": "https://www.notion.so/LLM-Inference-Optimization-Other-Techniques-d47ca8af2f92a16ebae1c14ca130b6dd",
        "title": "LLM Inference Optimization & Other Techniques",
        "properties": {
            "Type": "Leaf"
        }
    },
    "content": "[Skip to content](#start-of-content)\n\n## Navigation Menu\n\nToggle navigation\n\n[ ](/)\n\n[ Sign in ](/login?return_to=https%3A%2F%2Fgithub.com%2Fturboderp-org%2Fexllamav2)\n\n  * Product \n\n    * [ GitHub Copilot Write better code with AI  ](https://github.com/features/copilot)\n    * [ Security Find and fix vulnerabilities  ](https://github.com/features/security)\n    * [ Actions Automate any workflow  ](https://github.com/features/actions)\n    * [ Codespaces Instant dev environments  ](https://github.com/features/codespaces)\n    * [ Issues Plan and track work  ](https://github.com/features/issues)\n    * [ Code Review Manage code changes  ](https://github.com/features/code-review)\n    * [ Discussions Collaborate outside of code  ](https://github.com/features/discussions)\n    * [ Code Search Find more, search less  ](https://github.com/features/code-search)\n\nExplore\n    * [ All features ](https://github.com/features)\n    * [ Documentation ](https://docs.github.com)\n    * [ GitHub Skills ](https://skills.github.com)\n    * [ Blog ](https://github.blog)\n\n  * Solutions \n\nBy company size\n    * [ Enterprises ](https://github.com/enterprise)\n    * [ Small and medium teams ](https://github.com/team)\n    * [ Startups ](https://github.com/enterprise/startups)\n    * [ Nonprofits ](/solutions/industry/nonprofits)\n\nBy use case\n    * [ DevSecOps ](/solutions/use-case/devsecops)\n    * [ DevOps ](/solutions/use-case/devops)\n    * [ CI/CD ](/solutions/use-case/ci-cd)\n    * [ View all use cases ](/solutions/use-case)\n\nBy industry\n    * [ Healthcare ](/solutions/industry/healthcare)\n    * [ Financial services ](/solutions/industry/financial-services)\n    * [ Manufacturing ](/solutions/industry/manufacturing)\n    * [ Government ](/solutions/industry/government)\n    * [ View all industries ](/solutions/industry)\n\n[ View all solutions ](/solutions)\n\n  * Resources \n\nTopics\n    * [ AI ](/resources/articles/ai)\n    * [ DevOps ](/resources/articles/devops)\n    * [ Security ](/resources/articles/security)\n    * [ Software Development ](/resources/articles/software-development)\n    * [ View all ](/resources/articles)\n\nExplore\n    * [ Learning Pathways ](https://resources.github.com/learn/pathways)\n    * [ White papers, Ebooks, Webinars ](https://resources.github.com)\n    * [ Customer Stories ](https://github.com/customer-stories)\n    * [ Partners ](https://partner.github.com)\n    * [ Executive Insights ](https://github.com/solutions/executive-insights)\n\n  * Open Source \n\n    * [ GitHub Sponsors Fund open source developers  ](/sponsors)\n\n    * [ The ReadME Project GitHub community articles  ](https://github.com/readme)\n\nRepositories\n    * [ Topics ](https://github.com/topics)\n    * [ Trending ](https://github.com/trending)\n    * [ Collections ](https://github.com/collections)\n\n  * Enterprise \n\n    * [ Enterprise platform AI-powered developer platform  ](/enterprise)\n\nAvailable add-ons\n    * [ Advanced Security Enterprise-grade security features  ](https://github.com/enterprise/advanced-security)\n    * [ GitHub Copilot Enterprise-grade AI features  ](/features/copilot#enterprise)\n    * [ Premium Support Enterprise-grade 24/7 support  ](/premium-support)\n\n  * [Pricing](https://github.com/pricing)\n\n\n\nSearch or jump to...\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch \n\nClear\n\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n\n#  Provide feedback \n\nWe read every piece of feedback, and take your input very seriously.\n\nInclude my email address so I can be contacted\n\nCancel  Submit feedback \n\n#  Saved searches \n\n## Use saved searches to filter your results more quickly\n\nName\n\nQuery\n\nTo see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). \n\nCancel  Create saved search \n\n[ Sign in ](/login?return_to=https%3A%2F%2Fgithub.com%2Fturboderp-org%2Fexllamav2)\n\n[ Sign up ](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=turboderp-org%2Fexllamav2) Reseting focus\n\nYou signed in with another tab or window. [Reload]() to refresh your session. You signed out in another tab or window. [Reload]() to refresh your session. You switched accounts on another tab or window. [Reload]() to refresh your session. Dismiss alert\n\n{{ message }}\n\n[ turboderp-org ](/turboderp-org) / **[exllamav2](/turboderp-org/exllamav2) ** Public\n\n  * Sponsor\n\n#  Sponsor turboderp-org/exllamav2 \n\n##### External links\n\n![ko_fi](https://github.githubassets.com/assets/ko_fi-53a60c17e75c.svg)\n\n[ko-fi.com/**turboderp**](https://ko-fi.com/turboderp)\n\n[Learn more about funding links in repositories](https://docs.github.com/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/displaying-a-sponsor-button-in-your-repository). \n\n[Report abuse](/contact/report-abuse?report=turboderp-org%2Fexllamav2+%28Repository+Funding+Links%29)\n\n  * [ Notifications ](/login?return_to=%2Fturboderp-org%2Fexllamav2) You must be signed in to change notification settings\n  * [ Fork 292 ](/login?return_to=%2Fturboderp-org%2Fexllamav2)\n  * [ Star  3.9k ](/login?return_to=%2Fturboderp-org%2Fexllamav2)\n\n\n\n\nA fast inference library for running LLMs locally on modern consumer-class GPUs \n\n### License\n\n[ MIT license ](/turboderp-org/exllamav2/blob/master/LICENSE)\n\n[ 3.9k stars ](/turboderp-org/exllamav2/stargazers) [ 292 forks ](/turboderp-org/exllamav2/forks) [ Branches ](/turboderp-org/exllamav2/branches) [ Tags ](/turboderp-org/exllamav2/tags) [ Activity ](/turboderp-org/exllamav2/activity)\n\n[ Star  ](/login?return_to=%2Fturboderp-org%2Fexllamav2)\n\n[ Notifications ](/login?return_to=%2Fturboderp-org%2Fexllamav2) You must be signed in to change notification settings\n\n  * [ Code ](/turboderp-org/exllamav2)\n  * [ Issues 91 ](/turboderp-org/exllamav2/issues)\n  * [ Pull requests 15 ](/turboderp-org/exllamav2/pulls)\n  * [ Discussions ](/turboderp-org/exllamav2/discussions)\n  * [ Actions ](/turboderp-org/exllamav2/actions)\n  * [ Projects 0 ](/turboderp-org/exllamav2/projects)\n  * [ Security ](/turboderp-org/exllamav2/security)\n  * [ Insights ](/turboderp-org/exllamav2/pulse)\n\n\n\nAdditional navigation options\n\n  * [ Code  ](/turboderp-org/exllamav2)\n  * [ Issues  ](/turboderp-org/exllamav2/issues)\n  * [ Pull requests  ](/turboderp-org/exllamav2/pulls)\n  * [ Discussions  ](/turboderp-org/exllamav2/discussions)\n  * [ Actions  ](/turboderp-org/exllamav2/actions)\n  * [ Projects  ](/turboderp-org/exllamav2/projects)\n  * [ Security  ](/turboderp-org/exllamav2/security)\n  * [ Insights  ](/turboderp-org/exllamav2/pulse)\n\n\n\n# turboderp-org/exllamav2\n\nmaster\n\n[**2** Branches](/turboderp-org/exllamav2/branches)[**38** Tags](/turboderp-org/exllamav2/tags)\n\n[](/turboderp-org/exllamav2/branches)[](/turboderp-org/exllamav2/tags)\n\nGo to file\n\nCode\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\n[![turboderp](https://avatars.githubusercontent.com/u/11859846?v=4&size=40)](/turboderp)[turboderp](/turboderp-org/exllamav2/commits?author=turboderp)[Enable large runner](/turboderp-org/exllamav2/commit/b9c025b4b1ee78c0d34e700f2e474a02dfb13c90)Dec 30, 2024[b9c025b](/turboderp-org/exllamav2/commit/b9c025b4b1ee78c0d34e700f2e474a02dfb13c90) · Dec 30, 2024\n\n## History\n\n[1,366 Commits](/turboderp-org/exllamav2/commits/master/)[](/turboderp-org/exllamav2/commits/master/)  \n[.github](/turboderp-org/exllamav2/tree/master/.github \".github\")| [.github](/turboderp-org/exllamav2/tree/master/.github \".github\")| [Enable large runner](/turboderp-org/exllamav2/commit/b9c025b4b1ee78c0d34e700f2e474a02dfb13c90 \"Enable large runner\")| Dec 30, 2024  \n[doc](/turboderp-org/exllamav2/tree/master/doc \"doc\")| [doc](/turboderp-org/exllamav2/tree/master/doc \"doc\")| [Fix extra parenthesis typo (](/turboderp-org/exllamav2/commit/4ad39e0ca6485ec534b70c08bc8974f2bac6a2d8 \"Fix extra parenthesis typo \\(#559\\)\")[#559](https://github.com/turboderp-org/exllamav2/pull/559)[)](/turboderp-org/exllamav2/commit/4ad39e0ca6485ec534b70c08bc8974f2bac6a2d8 \"Fix extra parenthesis typo \\(#559\\)\")| Jul 22, 2024  \n[eval](/turboderp-org/exllamav2/tree/master/eval \"eval\")| [eval](/turboderp-org/exllamav2/tree/master/eval \"eval\")| [HumanEval: Rename new args to match other scripts](/turboderp-org/exllamav2/commit/cad78483756fce5a38c07239d367c9be078d7580 \"HumanEval: Rename new args to match other scripts\")| Sep 29, 2024  \n[examples](/turboderp-org/exllamav2/tree/master/examples \"examples\")| [examples](/turboderp-org/exllamav2/tree/master/examples \"examples\")| [Fix video example](/turboderp-org/exllamav2/commit/ae241a9af586f0ebd6bb418aa0e2416b81bf4215 \"Fix video example\")| Dec 30, 2024  \n[exllamav2](/turboderp-org/exllamav2/tree/master/exllamav2 \"exllamav2\")| [exllamav2](/turboderp-org/exllamav2/tree/master/exllamav2 \"exllamav2\")| [Bump to v0.2.7](/turboderp-org/exllamav2/commit/1ef618389b8a33931782dec369a293cb0ac8bd39 \"Bump to v0.2.7\")| Dec 30, 2024  \n[experimental](/turboderp-org/exllamav2/tree/master/experimental \"experimental\")| [experimental](/turboderp-org/exllamav2/tree/master/experimental \"experimental\")| [Pixtral example](/turboderp-org/exllamav2/commit/2a888dbd474bc3d6d862bdffd03a7026ab0e5eab \"Pixtral example\")| Nov 12, 2024  \n[tests](/turboderp-org/exllamav2/tree/master/tests \"tests\")| [tests](/turboderp-org/exllamav2/tree/master/tests \"tests\")| [Remove fasttensors, add platform-agnostic multithreaded ST loader](/turboderp-org/exllamav2/commit/b25210778caa242d697f4b78d0f858001881d84f \"Remove fasttensors, add platform-agnostic multithreaded ST loader\")| Sep 17, 2024  \n[util](/turboderp-org/exllamav2/tree/master/util \"util\")| [util](/turboderp-org/exllamav2/tree/master/util \"util\")| [Fix converting files with docker command](/turboderp-org/exllamav2/commit/008a0bb7774d9eef428d14f58a74c1eb0b73bd10 \"Fix converting files with docker command\")| Feb 21, 2024  \n[.gitignore](/turboderp-org/exllamav2/blob/master/.gitignore \".gitignore\")| [.gitignore](/turboderp-org/exllamav2/blob/master/.gitignore \".gitignore\")| [better gitignore](/turboderp-org/exllamav2/commit/9b964c4b28875ae7539e6fe2878ea3c5f05bb965 \"better gitignore\")| Feb 5, 2024  \n[LICENSE](/turboderp-org/exllamav2/blob/master/LICENSE \"LICENSE\")| [LICENSE](/turboderp-org/exllamav2/blob/master/LICENSE \"LICENSE\")| [Add license](/turboderp-org/exllamav2/commit/157fcfb5b95c98917afba9636a9c8a7bdb1e100b \"Add license\")| Sep 12, 2023  \n[MANIFEST.in](/turboderp-org/exllamav2/blob/master/MANIFEST.in \"MANIFEST.in\")| [MANIFEST.in](/turboderp-org/exllamav2/blob/master/MANIFEST.in \"MANIFEST.in\")| [improve installation experience (](/turboderp-org/exllamav2/commit/d92ff8d9e4a883b54ab67d85d4bf139f64567309 \"improve installation experience \\(#666\\)\")[#666](https://github.com/turboderp-org/exllamav2/pull/666)[)](/turboderp-org/exllamav2/commit/d92ff8d9e4a883b54ab67d85d4bf139f64567309 \"improve installation experience \\(#666\\)\")| Nov 2, 2024  \n[README.md](/turboderp-org/exllamav2/blob/master/README.md \"README.md\")| [README.md](/turboderp-org/exllamav2/blob/master/README.md \"README.md\")| [Update README.md (](/turboderp-org/exllamav2/commit/a72b73fc898632cd450c2332eb277500cd847681 \"Update README.md \\(#593\\)\")[#593](https://github.com/turboderp-org/exllamav2/pull/593)[)](/turboderp-org/exllamav2/commit/a72b73fc898632cd450c2332eb277500cd847681 \"Update README.md \\(#593\\)\")| Aug 20, 2024  \n[convert.py](/turboderp-org/exllamav2/blob/master/convert.py \"convert.py\")| [convert.py](/turboderp-org/exllamav2/blob/master/convert.py \"convert.py\")| [Move conversion script into exllamav2 package](/turboderp-org/exllamav2/commit/a0ea2b0db70213a9487bbbd6f69d8437d7044fd9 \"Move conversion script into exllamav2 package\")| Jun 22, 2024  \n[model_diff.py](/turboderp-org/exllamav2/blob/master/model_diff.py \"model_diff.py\")| [model_diff.py](/turboderp-org/exllamav2/blob/master/model_diff.py \"model_diff.py\")| [Fix model_diff script](/turboderp-org/exllamav2/commit/c294f3436f982634c84fbbeae5f0995d85d517cd \"Fix model_diff script\")| Jul 6, 2024  \n[requirements.txt](/turboderp-org/exllamav2/blob/master/requirements.txt \"requirements.txt\")| [requirements.txt](/turboderp-org/exllamav2/blob/master/requirements.txt \"requirements.txt\")| [Fix PIL dependency, skip version check in preprocessor](/turboderp-org/exllamav2/commit/525b3204e059219929dfe0347c25f9d6c42e4a45 \"Fix PIL dependency, skip version check in preprocessor\")| Nov 10, 2024  \n[setup.py](/turboderp-org/exllamav2/blob/master/setup.py \"setup.py\")| [setup.py](/turboderp-org/exllamav2/blob/master/setup.py \"setup.py\")| [Fix PIL dependency, skip version check in preprocessor](/turboderp-org/exllamav2/commit/525b3204e059219929dfe0347c25f9d6c42e4a45 \"Fix PIL dependency, skip version check in preprocessor\")| Nov 10, 2024  \n[test_inference.py](/turboderp-org/exllamav2/blob/master/test_inference.py \"test_inference.py\")| [test_inference.py](/turboderp-org/exllamav2/blob/master/test_inference.py \"test_inference.py\")| [Refactor architecture logic for code reuse between LLM/VLM](/turboderp-org/exllamav2/commit/6cdfa5e52f1679711a2efda9fc9c96591c1440b5 \"Refactor architecture logic for code reuse between LLM/VLM\")| Nov 3, 2024  \nView all files  \n  \n## Repository files navigation\n\n  * [README](#)\n  * [MIT license](#)\n\n\n\n# ExLlamaV2\n\n[](#exllamav2)\n\nExLlamaV2 is an inference library for running local LLMs on modern consumer GPUs.\n\nThe official and recommended backend server for ExLlamaV2 is [TabbyAPI](https://github.com/theroyallab/tabbyAPI/), which provides an OpenAI-compatible API for local or remote inference, with extended features like HF model downloading, embedding model support and support for HF Jinja2 chat templates.\n\nSee the [wiki](https://github.com/theroyallab/tabbyAPI/wiki/1.-Getting-Started) for help getting started.\n\n## New in v0.1.0+:\n\n[](#new-in-v010)\n\n  * ExLlamaV2 now supports paged attention via [Flash Attention](https://github.com/Dao-AILab/flash-attention) 2.5.7+\n  * New generator with dynamic batching, smart prompt caching, K/V cache deduplication and simplified API\n\n\n\n[![alt_text](/turboderp-org/exllamav2/raw/master/doc/dynamic_gen.gif)](/turboderp-org/exllamav2/blob/master/doc/dynamic_gen.gif) [ ![alt_text](https://github.com/turboderp-org/exllamav2/raw/master/doc/dynamic_gen.gif) ](https://github.com/turboderp-org/exllamav2/blob/master/doc/dynamic_gen.gif) [ ](https://github.com/turboderp-org/exllamav2/blob/master/doc/dynamic_gen.gif)\n\n## Dynamic generator\n\n[](#dynamic-generator)\n\nThe dynamic generator supports all inference, sampling and speculative decoding features of the previous two generators, consolidated into one API (with the exception of FP8 cache, though the Q4 cache mode is supported and performs better anyway, see [here](/turboderp-org/exllamav2/blob/master/doc/qcache_eval.md).)\n\nThe generator is explained in detail [here](/turboderp-org/exllamav2/blob/master/doc/dynamic.md).\n\n  * Single generation: \n\n```\noutput = generator.generate(prompt = \"Hello, my name is\", max_new_tokens = 200)\n```\n\n  * Batched generation: \n\n```\noutputs = generator.generate( prompt = [ \"Hello, my name is\", \"Once upon a time,\", \"Large language models are\", ], max_new_tokens = 200 )\n```\n\n  * Streamed generation with `asyncio`: \n\n```\njob = ExLlamaV2DynamicJobAsync( generator, input_ids = tokenizer.encode(\"You can lead a horse to water\"), banned_strings = [\"make it drink\"], gen_settings = ExLlamaV2Sampler.Settings.greedy(), max_new_tokens = 200 ) async for result in job: text = result.get(\"text\", \"\") print(text, end = \"\") \n```\n\n\n\n\nSee the full, updated examples [here](https://github.com/turboderp/exllamav2/tree/master/examples).\n\n## Performance\n\n[](#performance)\n\nSome quick tests to compare performance with ExLlama V1. There may be more performance optimizations in the future, and speeds will vary across GPUs, with slow CPUs still being a potential bottleneck:\n\nModel | Mode | Size | grpsz | act | 3090Ti | 4090  \n---|---|---|---|---|---|---  \nLlama | GPTQ | 7B | 128 | no | 181 t/s | **205** t/s  \nLlama | GPTQ | 13B | 128 | no | 110 t/s | **114** t/s  \nLlama | GPTQ | 33B | 128 | yes | 44 t/s | **48** t/s  \nOpenLlama | GPTQ | 3B | 128 | yes | 259 t/s | **296** t/s  \nCodeLlama | EXL2 4.0 bpw | 34B | - | - | 44 t/s | **50** t/s  \nLlama2 | EXL2 3.0 bpw | 7B | - | - | 217 t/s | **257** t/s  \nLlama2 | EXL2 4.0 bpw | 7B | - | - | 185 t/s | **211** t/s  \nLlama2 | EXL2 5.0 bpw | 7B | - | - | 164 t/s | **179** t/s  \nLlama2 | EXL2 2.5 bpw | 70B | - | - | 33 t/s | **38** t/s  \nTinyLlama | EXL2 3.0 bpw | 1.1B | - | - | 656 t/s | **770** t/s  \nTinyLlama | EXL2 4.0 bpw | 1.1B | - | - | 602 t/s | **700** t/s  \n  \n## How to\n\n[](#how-to)\n\nTo install from the repo you'll need the CUDA Toolkit and either gcc on Linux or (Build Tools for) Visual Studio on Windows). Also make sure you have an appropriate version of [PyTorch](https://pytorch.org/get-started/locally/), then run:\n\n```\ngit clone https://github.com/turboderp/exllamav2 cd exllamav2 pip install -r requirements.txt pip install . python test_inference.py -m <path_to_model> -p \"Once upon a time,\" # Append the '--gpu_split auto' flag for multi-GPU inference\n```\n\nA simple console chatbot is included. Run it with:\n\n```\npython examples/chat.py -m <path_to_model> -mode llama -gs auto\n```\n\nThe `-mode` argument chooses the prompt format to use. `raw` will produce a simple chatlog-style chat that works with base models and various other finetunes. Run with `-modes` for a list of all available prompt formats. You can also provide a custom system prompt with `-sp`.\n\n## Integration and APIs\n\n[](#integration-and-apis)\n\n  * [TabbyAPI](https://github.com/theroyallab/tabbyAPI/) is a FastAPI-based server that provides an OpenAI-style web API compatible with [SillyTavern](https://sillytavernai.com/) and other frontends.\n\n  * [ExUI](https://github.com/turboderp/exui) is a simple, standalone single-user web UI that serves an ExLlamaV2 instance directly with chat and notebook modes.\n\n  * [text-generation-webui](https://github.com/oobabooga/text-generation-webui) supports ExLlamaV2 through the **exllamav2** and **exllamav2_HF** loaders.\n\n  * [lollms-webui](https://github.com/ParisNeo/lollms-webui) supports ExLlamaV2 through the exllamav2 binding.\n\n\n\n\n## Installation\n\n[](#installation)\n\n### Method 1: Install from source\n\n[](#method-1-install-from-source)\n\nTo install the current dev version, clone the repo and run the setup script:\n\n```\ngit clone https://github.com/turboderp/exllamav2 cd exllamav2 pip install -r requirements.txt pip install .\n```\n\nBy default this will also compile and install the Torch C++ extension (`exllamav2_ext`) that the library relies on. You can skip this step by setting the `EXLLAMA_NOCOMPILE` environment variable:\n\n```\nEXLLAMA_NOCOMPILE= pip install .\n```\n\nThis will install the \"JIT version\" of the package, i.e. it will install the Python components without building the C++ extension in the process. Instead, the extension will be built the first time the library is used, then cached in `~/.cache/torch_extensions` for subsequent use.\n\n### Method 2: Install from release (with prebuilt extension)\n\n[](#method-2-install-from-release-with-prebuilt-extension)\n\nReleases are available [here](https://github.com/turboderp/exllamav2/releases), with prebuilt wheels that contain the extension binaries. Make sure to grab the right version, matching your platform, Python version (`cp`) and CUDA version. Crucially, you must also match the prebuilt wheel with your PyTorch version, since the Torch C++ extension ABI breaks with every new version of PyTorch.\n\nEither download an appropriate wheel or install directly from the appropriate URL:\n\n```\npip install https://github.com/turboderp/exllamav2/releases/download/v0.0.12/exllamav2-0.0.12+cu121-cp311-cp311-linux_x86_64.whl\n```\n\nThe `py3-none-any.whl` version is the JIT version which will build the extension on first launch. The `.tar.gz` file can also be installed this way, and it will build the extension while installing.\n\n### Method 3: Install from PyPI\n\n[](#method-3-install-from-pypi)\n\nA PyPI package is available as well. This is the same as the JIT version (see above). It can be installed with:\n\n```\npip install exllamav2\n```\n\n## EXL2 quantization\n\n[](#exl2-quantization)\n\nExLlamaV2 supports the same 4-bit GPTQ models as V1, but also a new \"EXL2\" format. EXL2 is based on the same optimization method as GPTQ and supports 2, 3, 4, 5, 6 and 8-bit quantization. The format allows for mixing quantization levels within a model to achieve any average bitrate between 2 and 8 bits per weight.\n\nMoreover, it's possible to apply multiple quantization levels to each linear layer, producing something akin to sparse quantization wherein more important weights (columns) are quantized with more bits. The same remapping trick that lets ExLlama work efficiently with act-order models allows this mixing of formats to happen with little to no impact on performance.\n\nParameter selection is done automatically by quantizing each matrix multiple times, measuring the quantization error (with respect to the chosen calibration data) for each of a number of possible settings, per layer. Finally, a combination is chosen that minimizes the maximum quantization error over the entire model while meeting a target average bitrate.\n\nIn my tests, this scheme allows Llama2 70B to run on a single 24 GB GPU with a 2048-token context, producing coherent and mostly stable output with 2.55 bits per weight. 13B models run at 2.65 bits within 8 GB of VRAM, although currently none of them uses GQA which effectively limits the context size to 2048. In either case it's unlikely that the model will fit alongside a desktop environment. For now.\n\n[![chat_screenshot](/turboderp-org/exllamav2/raw/master/doc/llama2_70b_chat_thumb.png)](/turboderp-org/exllamav2/blob/master/doc/llama2_70b_chat.png) [![chat_screenshot](/turboderp-org/exllamav2/raw/master/doc/codellama_13b_instruct_thumb.png)](/turboderp-org/exllamav2/blob/master/doc/codellama_13b_instruct.png)\n\n### Conversion\n\n[](#conversion)\n\nA script is provided to quantize models. Converting large models can be somewhat slow, so be warned. The conversion script and its options are explained in [detail here](/turboderp-org/exllamav2/blob/master/doc/convert.md)\n\n### Evaluation\n\n[](#evaluation)\n\nA number of evaluaion scripts are provided. See [here](/turboderp-org/exllamav2/blob/master/doc/eval.md) for details.\n\n### Community\n\n[](#community)\n\nA test community is provided at <https://discord.gg/NSFwVuCjRq> Quanting service free of charge is provided at #bot test. The computation is generiously provided by the Bloke powered by Lambda labs.\n\n### HuggingFace repos\n\n[](#huggingface-repos)\n\n  * I've uploaded a few EXL2-quantized models to Hugging Face to play around with, [here](https://huggingface.co/turboderp).\n\n  * [LoneStriker](https://huggingface.co/LoneStriker) provides a large number of EXL2 models on Hugging Face.\n\n  * [bartowski](https://huggingface.co/bartowski) has some more EXL2 models on HF.\n\n\n\n\n## About\n\nA fast inference library for running LLMs locally on modern consumer-class GPUs \n\n### Resources\n\n[ Readme ](#readme-ov-file)\n\n### License\n\n[ MIT license ](#MIT-1-ov-file)\n\n[ Activity](/turboderp-org/exllamav2/activity)\n\n[ Custom properties](/turboderp-org/exllamav2/custom-properties)\n\n### Stars\n\n[ **3.9k** stars](/turboderp-org/exllamav2/stargazers)\n\n### Watchers\n\n[ **34** watching](/turboderp-org/exllamav2/watchers)\n\n### Forks\n\n[ **292** forks](/turboderp-org/exllamav2/forks)\n\n[ Report repository ](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fturboderp-org%2Fexllamav2&report=turboderp-org+%28user%29)\n\n##  [Releases 38](/turboderp-org/exllamav2/releases)\n\n[ 0.2.7 Latest  Dec 30, 2024 ](/turboderp-org/exllamav2/releases/tag/v0.2.7)\n\n[+ 37 releases](/turboderp-org/exllamav2/releases)\n\n## Sponsor this project\n\n  * ![ko_fi](https://github.githubassets.com/assets/ko_fi-53a60c17e75c.svg) [ko-fi.com/**turboderp**](https://ko-fi.com/turboderp)\n\n\n\n##  [Packages 0](/orgs/turboderp-org/packages?repo_name=exllamav2)\n\nNo packages published \n\n##  [Used by 245](/turboderp-org/exllamav2/network/dependents)\n\n[\n\n  * ![@DavidCatalano](https://avatars.githubusercontent.com/u/1626025?s=64&v=4)\n  * ![@Ednaordinary](https://avatars.githubusercontent.com/u/88869424?s=64&v=4)\n  * ![@hwarnecke](https://avatars.githubusercontent.com/u/82388774?s=64&v=4)\n  * ![@SERGEYDJUM](https://avatars.githubusercontent.com/u/39106181?s=64&v=4)\n  * ![@aankarr](https://avatars.githubusercontent.com/u/129349834?s=64&v=4)\n  * ![@nikitavoloboev](https://avatars.githubusercontent.com/u/6391776?s=64&v=4)\n  * ![@Tim-Roy](https://avatars.githubusercontent.com/u/60461006?s=64&v=4)\n  * ![@fukuro-kun](https://avatars.githubusercontent.com/u/29835293?s=64&v=4)\n\n+ 237  ](/turboderp-org/exllamav2/network/dependents)\n\n##  [Contributors 48](/turboderp-org/exllamav2/graphs/contributors)\n\n  * [ ![@turboderp](https://avatars.githubusercontent.com/u/11859846?s=64&v=4) ](https://github.com/turboderp)\n  * [ ![@SinanAkkoyun](https://avatars.githubusercontent.com/u/43215895?s=64&v=4) ](https://github.com/SinanAkkoyun)\n  * [ ![@awtrisk](https://avatars.githubusercontent.com/u/113042016?s=64&v=4) ](https://github.com/awtrisk)\n  * [ ![@jllllll](https://avatars.githubusercontent.com/u/3887729?s=64&v=4) ](https://github.com/jllllll)\n  * [ ![@AlpinDale](https://avatars.githubusercontent.com/u/52078762?s=64&v=4) ](https://github.com/AlpinDale)\n  * [ ![@bdashore3](https://avatars.githubusercontent.com/u/8082010?s=64&v=4) ](https://github.com/bdashore3)\n  * [ ![@zgce](https://avatars.githubusercontent.com/u/2217684?s=64&v=4) ](https://github.com/zgce)\n  * [ ![@Lyrcaxis](https://avatars.githubusercontent.com/u/32474602?s=64&v=4) ](https://github.com/Lyrcaxis)\n  * [ ![@ParisNeo](https://avatars.githubusercontent.com/u/827993?s=64&v=4) ](https://github.com/ParisNeo)\n  * [ ![@deltaguo](https://avatars.githubusercontent.com/u/49133878?s=64&v=4) ](https://github.com/deltaguo)\n  * [ ![@Downtown-Case](https://avatars.githubusercontent.com/u/182140542?s=64&v=4) ](https://github.com/Downtown-Case)\n  * [ ![@TMK04](https://avatars.githubusercontent.com/u/81667533?s=64&v=4) ](https://github.com/TMK04)\n  * [ ![@Kerushii](https://avatars.githubusercontent.com/u/85707358?s=64&v=4) ](https://github.com/Kerushii)\n  * [ ![@flying-x](https://avatars.githubusercontent.com/u/22962929?s=64&v=4) ](https://github.com/flying-x)\n\n\n\n[+ 34 contributors](/turboderp-org/exllamav2/graphs/contributors)\n\n## Languages\n\n  * [ Python 65.5% ](/turboderp-org/exllamav2/search?l=python)\n  * [ Cuda 19.3% ](/turboderp-org/exllamav2/search?l=cuda)\n  * [ C++ 12.9% ](/turboderp-org/exllamav2/search?l=c%2B%2B)\n  * [ C 2.3% ](/turboderp-org/exllamav2/search?l=c)\n\n\n\n## Footer\n\n[ ](https://github.com \"GitHub\") © 2025 GitHub, Inc. \n\n### Footer navigation\n\n  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)\n  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)\n  * [Security](https://github.com/security)\n  * [Status](https://www.githubstatus.com/)\n  * [Docs](https://docs.github.com/)\n  * [Contact](https://support.github.com?tags=dotcom-footer)\n  * Manage cookies \n  * Do not share my personal information \n\n\n\nYou can’t perform that action at this time. \n",
    "content_quality_score": 0.8,
    "summary": null,
    "child_urls": [
        "https://github.com/turboderp/exllamav2/#start-of-content",
        "https://github.com/",
        "https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fturboderp-org%2Fexllamav2",
        "https://github.com/features/copilot",
        "https://github.com/features/security",
        "https://github.com/features/actions",
        "https://github.com/features/codespaces",
        "https://github.com/features/issues",
        "https://github.com/features/code-review",
        "https://github.com/features/discussions",
        "https://github.com/features/code-search",
        "https://github.com/features",
        "https://docs.github.com",
        "https://skills.github.com",
        "https://github.com/enterprise",
        "https://github.com/team",
        "https://github.com/enterprise/startups",
        "https://github.com/solutions/industry/nonprofits",
        "https://github.com/solutions/use-case/devsecops",
        "https://github.com/solutions/use-case/devops",
        "https://github.com/solutions/use-case/ci-cd",
        "https://github.com/solutions/use-case",
        "https://github.com/solutions/industry/healthcare",
        "https://github.com/solutions/industry/financial-services",
        "https://github.com/solutions/industry/manufacturing",
        "https://github.com/solutions/industry/government",
        "https://github.com/solutions/industry",
        "https://github.com/solutions",
        "https://github.com/resources/articles/ai",
        "https://github.com/resources/articles/devops",
        "https://github.com/resources/articles/security",
        "https://github.com/resources/articles/software-development",
        "https://github.com/resources/articles",
        "https://resources.github.com/learn/pathways",
        "https://resources.github.com",
        "https://github.com/customer-stories",
        "https://partner.github.com",
        "https://github.com/solutions/executive-insights",
        "https://github.com/sponsors",
        "https://github.com/readme",
        "https://github.com/topics",
        "https://github.com/trending",
        "https://github.com/collections",
        "https://github.com/enterprise/advanced-security",
        "https://github.com/features/copilot#enterprise",
        "https://github.com/premium-support",
        "https://github.com/pricing",
        "https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax",
        "https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=turboderp-org%2Fexllamav2",
        "https://github.com/turboderp-org",
        "https://github.com/turboderp-org/exllamav2",
        "https://docs.github.com/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/displaying-a-sponsor-button-in-your-repository",
        "https://github.com/contact/report-abuse?report=turboderp-org%2Fexllamav2+%28Repository+Funding+Links%29",
        "https://github.com/login?return_to=%2Fturboderp-org%2Fexllamav2",
        "https://github.com/turboderp-org/exllamav2/blob/master/LICENSE",
        "https://github.com/turboderp-org/exllamav2/stargazers",
        "https://github.com/turboderp-org/exllamav2/forks",
        "https://github.com/turboderp-org/exllamav2/branches",
        "https://github.com/turboderp-org/exllamav2/tags",
        "https://github.com/turboderp-org/exllamav2/activity",
        "https://github.com/turboderp-org/exllamav2/issues",
        "https://github.com/turboderp-org/exllamav2/pulls",
        "https://github.com/turboderp-org/exllamav2/discussions",
        "https://github.com/turboderp-org/exllamav2/actions",
        "https://github.com/turboderp-org/exllamav2/projects",
        "https://github.com/turboderp-org/exllamav2/security",
        "https://github.com/turboderp-org/exllamav2/pulse",
        "https://github.com/turboderp",
        "https://github.com/turboderp-org/exllamav2/commits?author=turboderp",
        "https://github.com/turboderp-org/exllamav2/commit/b9c025b4b1ee78c0d34e700f2e474a02dfb13c90",
        "https://github.com/turboderp-org/exllamav2/commits/master/",
        "https://github.com/turboderp-org/exllamav2/tree/master/.github",
        "https://github.com/turboderp-org/exllamav2/tree/master/doc",
        "https://github.com/turboderp-org/exllamav2/commit/4ad39e0ca6485ec534b70c08bc8974f2bac6a2d8",
        "https://github.com/turboderp-org/exllamav2/pull/559",
        "https://github.com/turboderp-org/exllamav2/tree/master/eval",
        "https://github.com/turboderp-org/exllamav2/commit/cad78483756fce5a38c07239d367c9be078d7580",
        "https://github.com/turboderp-org/exllamav2/tree/master/examples",
        "https://github.com/turboderp-org/exllamav2/commit/ae241a9af586f0ebd6bb418aa0e2416b81bf4215",
        "https://github.com/turboderp-org/exllamav2/tree/master/exllamav2",
        "https://github.com/turboderp-org/exllamav2/commit/1ef618389b8a33931782dec369a293cb0ac8bd39",
        "https://github.com/turboderp-org/exllamav2/tree/master/experimental",
        "https://github.com/turboderp-org/exllamav2/commit/2a888dbd474bc3d6d862bdffd03a7026ab0e5eab",
        "https://github.com/turboderp-org/exllamav2/tree/master/tests",
        "https://github.com/turboderp-org/exllamav2/commit/b25210778caa242d697f4b78d0f858001881d84f",
        "https://github.com/turboderp-org/exllamav2/tree/master/util",
        "https://github.com/turboderp-org/exllamav2/commit/008a0bb7774d9eef428d14f58a74c1eb0b73bd10",
        "https://github.com/turboderp-org/exllamav2/blob/master/.gitignore",
        "https://github.com/turboderp-org/exllamav2/commit/9b964c4b28875ae7539e6fe2878ea3c5f05bb965",
        "https://github.com/turboderp-org/exllamav2/commit/157fcfb5b95c98917afba9636a9c8a7bdb1e100b",
        "https://github.com/turboderp-org/exllamav2/blob/master/MANIFEST.in",
        "https://github.com/turboderp-org/exllamav2/commit/d92ff8d9e4a883b54ab67d85d4bf139f64567309",
        "https://github.com/turboderp-org/exllamav2/pull/666",
        "https://github.com/turboderp-org/exllamav2/blob/master/README.md",
        "https://github.com/turboderp-org/exllamav2/commit/a72b73fc898632cd450c2332eb277500cd847681",
        "https://github.com/turboderp-org/exllamav2/pull/593",
        "https://github.com/turboderp-org/exllamav2/blob/master/convert.py",
        "https://github.com/turboderp-org/exllamav2/commit/a0ea2b0db70213a9487bbbd6f69d8437d7044fd9",
        "https://github.com/turboderp-org/exllamav2/blob/master/model_diff.py",
        "https://github.com/turboderp-org/exllamav2/commit/c294f3436f982634c84fbbeae5f0995d85d517cd",
        "https://github.com/turboderp-org/exllamav2/blob/master/requirements.txt",
        "https://github.com/turboderp-org/exllamav2/commit/525b3204e059219929dfe0347c25f9d6c42e4a45",
        "https://github.com/turboderp-org/exllamav2/blob/master/setup.py",
        "https://github.com/turboderp-org/exllamav2/blob/master/test_inference.py",
        "https://github.com/turboderp-org/exllamav2/commit/6cdfa5e52f1679711a2efda9fc9c96591c1440b5",
        "https://github.com/turboderp/exllamav2/",
        "https://github.com/turboderp/exllamav2/#exllamav2",
        "https://github.com/theroyallab/tabbyAPI/",
        "https://github.com/theroyallab/tabbyAPI/wiki/1.-Getting-Started",
        "https://github.com/turboderp/exllamav2/#new-in-v010",
        "https://github.com/Dao-AILab/flash-attention",
        "https://github.com/turboderp-org/exllamav2/blob/master/doc/dynamic_gen.gif",
        "https://github.com/turboderp/exllamav2/#dynamic-generator",
        "https://github.com/turboderp-org/exllamav2/blob/master/doc/qcache_eval.md",
        "https://github.com/turboderp-org/exllamav2/blob/master/doc/dynamic.md",
        "https://github.com/turboderp/exllamav2/tree/master/examples",
        "https://github.com/turboderp/exllamav2/#performance",
        "https://github.com/turboderp/exllamav2/#how-to",
        "https://github.com/turboderp/exllamav2/#integration-and-apis",
        "https://github.com/turboderp/exui",
        "https://github.com/oobabooga/text-generation-webui",
        "https://github.com/ParisNeo/lollms-webui",
        "https://github.com/turboderp/exllamav2/#installation",
        "https://github.com/turboderp/exllamav2/#method-1-install-from-source",
        "https://github.com/turboderp/exllamav2/#method-2-install-from-release-with-prebuilt-extension",
        "https://github.com/turboderp/exllamav2/releases",
        "https://github.com/turboderp/exllamav2/#method-3-install-from-pypi",
        "https://github.com/turboderp/exllamav2/#exl2-quantization",
        "https://github.com/turboderp-org/exllamav2/blob/master/doc/llama2_70b_chat.png",
        "https://github.com/turboderp-org/exllamav2/blob/master/doc/codellama_13b_instruct.png",
        "https://github.com/turboderp/exllamav2/#conversion",
        "https://github.com/turboderp-org/exllamav2/blob/master/doc/convert.md",
        "https://github.com/turboderp/exllamav2/#evaluation",
        "https://github.com/turboderp-org/exllamav2/blob/master/doc/eval.md",
        "https://github.com/turboderp/exllamav2/#community",
        "https://github.com/turboderp/exllamav2/#huggingface-repos",
        "https://github.com/turboderp/exllamav2/#readme-ov-file",
        "https://github.com/turboderp/exllamav2/#MIT-1-ov-file",
        "https://github.com/turboderp-org/exllamav2/custom-properties",
        "https://github.com/turboderp-org/exllamav2/watchers",
        "https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fturboderp-org%2Fexllamav2&report=turboderp-org+%28user%29",
        "https://github.com/turboderp-org/exllamav2/releases",
        "https://github.com/turboderp-org/exllamav2/releases/tag/v0.2.7",
        "https://github.com/orgs/turboderp-org/packages?repo_name=exllamav2",
        "https://github.com/turboderp-org/exllamav2/network/dependents",
        "https://github.com/turboderp-org/exllamav2/graphs/contributors",
        "https://github.com/SinanAkkoyun",
        "https://github.com/awtrisk",
        "https://github.com/jllllll",
        "https://github.com/AlpinDale",
        "https://github.com/bdashore3",
        "https://github.com/zgce",
        "https://github.com/Lyrcaxis",
        "https://github.com/ParisNeo",
        "https://github.com/deltaguo",
        "https://github.com/Downtown-Case",
        "https://github.com/TMK04",
        "https://github.com/Kerushii",
        "https://github.com/flying-x",
        "https://github.com/turboderp-org/exllamav2/search?l=python",
        "https://github.com/turboderp-org/exllamav2/search?l=cuda",
        "https://github.com/turboderp-org/exllamav2/search?l=c%2B%2B",
        "https://github.com/turboderp-org/exllamav2/search?l=c",
        "https://github.com",
        "https://docs.github.com/site-policy/github-terms/github-terms-of-service",
        "https://docs.github.com/site-policy/privacy-policies/github-privacy-statement",
        "https://github.com/security",
        "https://docs.github.com/",
        "https://support.github.com?tags=dotcom-footer",
        "https://github.blog",
        "https://ko-fi.com/turboderp",
        "https://pytorch.org/get-started/locally/",
        "https://sillytavernai.com/",
        "https://discord.gg/NSFwVuCjRq",
        "https://huggingface.co/turboderp",
        "https://huggingface.co/LoneStriker",
        "https://huggingface.co/bartowski",
        "https://www.githubstatus.com/"
    ]
}