{
    "id": "d9a9ea06dddb0f0a20cfb05c0cb90fbe",
    "metadata": {
        "id": "d9a9ea06dddb0f0a20cfb05c0cb90fbe",
        "url": "https://github.com/stanford-futuredata/ARES/",
        "title": "GitHub - stanford-futuredata/ARES: Automated Evaluation of RAG Systems",
        "properties": {
            "description": "Automated Evaluation of RAG Systems. Contribute to stanford-futuredata/ARES development by creating an account on GitHub.",
            "keywords": null,
            "author": null,
            "og:image": "https://opengraph.githubassets.com/9ab1cffe4d30952f4c887b4381ad5c314db259d861e1fe50c2e1446c92ae94c1/stanford-futuredata/ARES",
            "og:image:alt": "Automated Evaluation of RAG Systems. Contribute to stanford-futuredata/ARES development by creating an account on GitHub.",
            "og:image:width": "1200",
            "og:image:height": "600",
            "og:site_name": "GitHub",
            "og:type": "object",
            "og:title": "GitHub - stanford-futuredata/ARES: Automated Evaluation of RAG Systems",
            "og:url": "https://github.com/stanford-futuredata/ARES",
            "og:description": "Automated Evaluation of RAG Systems. Contribute to stanford-futuredata/ARES development by creating an account on GitHub.",
            "twitter:image": "https://opengraph.githubassets.com/9ab1cffe4d30952f4c887b4381ad5c314db259d861e1fe50c2e1446c92ae94c1/stanford-futuredata/ARES",
            "twitter:site": "@github",
            "twitter:card": "summary_large_image",
            "twitter:title": "GitHub - stanford-futuredata/ARES: Automated Evaluation of RAG Systems",
            "twitter:description": "Automated Evaluation of RAG Systems. Contribute to stanford-futuredata/ARES development by creating an account on GitHub."
        }
    },
    "parent_metadata": {
        "id": "bdc569af4bbfeae6edafbbcbebfe77a5",
        "url": "https://www.notion.so/Evaluate-LLMs-RAG-bdc569af4bbfeae6edafbbcbebfe77a5",
        "title": "Evaluate LLMs & RAG",
        "properties": {
            "Type": "Leaf"
        }
    },
    "content": "[Skip to content](#start-of-content)\n\n## Navigation Menu\n\nToggle navigation\n\n[ ](/)\n\n[ Sign in ](/login?return_to=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES%2F)\n\n  * Product \n\n    * [ GitHub Copilot Write better code with AI  ](https://github.com/features/copilot)\n    * [ Security Find and fix vulnerabilities  ](https://github.com/features/security)\n    * [ Actions Automate any workflow  ](https://github.com/features/actions)\n    * [ Codespaces Instant dev environments  ](https://github.com/features/codespaces)\n    * [ Issues Plan and track work  ](https://github.com/features/issues)\n    * [ Code Review Manage code changes  ](https://github.com/features/code-review)\n    * [ Discussions Collaborate outside of code  ](https://github.com/features/discussions)\n    * [ Code Search Find more, search less  ](https://github.com/features/code-search)\n\nExplore\n    * [ All features ](https://github.com/features)\n    * [ Documentation ](https://docs.github.com)\n    * [ GitHub Skills ](https://skills.github.com)\n    * [ Blog ](https://github.blog)\n\n  * Solutions \n\nBy company size\n    * [ Enterprises ](https://github.com/enterprise)\n    * [ Small and medium teams ](https://github.com/team)\n    * [ Startups ](https://github.com/enterprise/startups)\n    * [ Nonprofits ](/solutions/industry/nonprofits)\n\nBy use case\n    * [ DevSecOps ](/solutions/use-case/devsecops)\n    * [ DevOps ](/solutions/use-case/devops)\n    * [ CI/CD ](/solutions/use-case/ci-cd)\n    * [ View all use cases ](/solutions/use-case)\n\nBy industry\n    * [ Healthcare ](/solutions/industry/healthcare)\n    * [ Financial services ](/solutions/industry/financial-services)\n    * [ Manufacturing ](/solutions/industry/manufacturing)\n    * [ Government ](/solutions/industry/government)\n    * [ View all industries ](/solutions/industry)\n\n[ View all solutions ](/solutions)\n\n  * Resources \n\nTopics\n    * [ AI ](/resources/articles/ai)\n    * [ DevOps ](/resources/articles/devops)\n    * [ Security ](/resources/articles/security)\n    * [ Software Development ](/resources/articles/software-development)\n    * [ View all ](/resources/articles)\n\nExplore\n    * [ Learning Pathways ](https://resources.github.com/learn/pathways)\n    * [ White papers, Ebooks, Webinars ](https://resources.github.com)\n    * [ Customer Stories ](https://github.com/customer-stories)\n    * [ Partners ](https://partner.github.com)\n    * [ Executive Insights ](https://github.com/solutions/executive-insights)\n\n  * Open Source \n\n    * [ GitHub Sponsors Fund open source developers  ](/sponsors)\n\n    * [ The ReadME Project GitHub community articles  ](https://github.com/readme)\n\nRepositories\n    * [ Topics ](https://github.com/topics)\n    * [ Trending ](https://github.com/trending)\n    * [ Collections ](https://github.com/collections)\n\n  * Enterprise \n\n    * [ Enterprise platform AI-powered developer platform  ](/enterprise)\n\nAvailable add-ons\n    * [ Advanced Security Enterprise-grade security features  ](https://github.com/enterprise/advanced-security)\n    * [ GitHub Copilot Enterprise-grade AI features  ](/features/copilot#enterprise)\n    * [ Premium Support Enterprise-grade 24/7 support  ](/premium-support)\n\n  * [Pricing](https://github.com/pricing)\n\n\n\nSearch or jump to...\n\n# Search code, repositories, users, issues, pull requests...\n\nSearch \n\nClear\n\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n\n#  Provide feedback \n\nWe read every piece of feedback, and take your input very seriously.\n\nInclude my email address so I can be contacted\n\nCancel  Submit feedback \n\n#  Saved searches \n\n## Use saved searches to filter your results more quickly\n\nName\n\nQuery\n\nTo see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). \n\nCancel  Create saved search \n\n[ Sign in ](/login?return_to=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES%2F)\n\n[ Sign up ](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=stanford-futuredata%2FARES) Reseting focus\n\nYou signed in with another tab or window. [Reload]() to refresh your session. You signed out in another tab or window. [Reload]() to refresh your session. You switched accounts on another tab or window. [Reload]() to refresh your session. Dismiss alert\n\n{{ message }}\n\n[ stanford-futuredata ](/stanford-futuredata) / **[ARES](/stanford-futuredata/ARES) ** Public\n\n  * [ Notifications ](/login?return_to=%2Fstanford-futuredata%2FARES) You must be signed in to change notification settings\n  * [ Fork 54 ](/login?return_to=%2Fstanford-futuredata%2FARES)\n  * [ Star  532 ](/login?return_to=%2Fstanford-futuredata%2FARES)\n\n\n\n\nAutomated Evaluation of RAG Systems \n\n[ares-ai.vercel.app/](https://ares-ai.vercel.app/ \"https://ares-ai.vercel.app/\")\n\n### License\n\n[ Apache-2.0 license ](/stanford-futuredata/ARES/blob/main/LICENSE)\n\n[ 532 stars ](/stanford-futuredata/ARES/stargazers) [ 54 forks ](/stanford-futuredata/ARES/forks) [ Branches ](/stanford-futuredata/ARES/branches) [ Tags ](/stanford-futuredata/ARES/tags) [ Activity ](/stanford-futuredata/ARES/activity)\n\n[ Star  ](/login?return_to=%2Fstanford-futuredata%2FARES)\n\n[ Notifications ](/login?return_to=%2Fstanford-futuredata%2FARES) You must be signed in to change notification settings\n\n  * [ Code ](/stanford-futuredata/ARES)\n  * [ Issues 12 ](/stanford-futuredata/ARES/issues)\n  * [ Pull requests 1 ](/stanford-futuredata/ARES/pulls)\n  * [ Actions ](/stanford-futuredata/ARES/actions)\n  * [ Projects 0 ](/stanford-futuredata/ARES/projects)\n  * [ Security ](/stanford-futuredata/ARES/security)\n  * [ Insights ](/stanford-futuredata/ARES/pulse)\n\n\n\nAdditional navigation options\n\n  * [ Code  ](/stanford-futuredata/ARES)\n  * [ Issues  ](/stanford-futuredata/ARES/issues)\n  * [ Pull requests  ](/stanford-futuredata/ARES/pulls)\n  * [ Actions  ](/stanford-futuredata/ARES/actions)\n  * [ Projects  ](/stanford-futuredata/ARES/projects)\n  * [ Security  ](/stanford-futuredata/ARES/security)\n  * [ Insights  ](/stanford-futuredata/ARES/pulse)\n\n\n\n# stanford-futuredata/ARES\n\nmain\n\n[**5** Branches](/stanford-futuredata/ARES/branches)[**0** Tags](/stanford-futuredata/ARES/tags)\n\n[](/stanford-futuredata/ARES/branches)[](/stanford-futuredata/ARES/tags)\n\nGo to file\n\nCode\n\n## Folders and files\n\nName| Name| Last commit message| Last commit date  \n---|---|---|---  \n  \n## Latest commit\n\n[![robbym-dev](https://avatars.githubusercontent.com/u/92179572?v=4&size=40)](/robbym-dev)[robbym-dev](/stanford-futuredata/ARES/commits?author=robbym-dev)[vLLM + Azure Update](/stanford-futuredata/ARES/commit/e8b4ccc7743141c56da5fdc6875aef7fd0818041)Nov 4, 2024[e8b4ccc](/stanford-futuredata/ARES/commit/e8b4ccc7743141c56da5fdc6875aef7fd0818041) ¬∑ Nov 4, 2024\n\n## History\n\n[418 Commits](/stanford-futuredata/ARES/commits/main/)[](/stanford-futuredata/ARES/commits/main/)  \n[ares](/stanford-futuredata/ARES/tree/main/ares \"ares\")| [ares](/stanford-futuredata/ARES/tree/main/ares \"ares\")| [vLLM + Azure Update](/stanford-futuredata/ARES/commit/e8b4ccc7743141c56da5fdc6875aef7fd0818041 \"vLLM + Azure Update\")| Nov 4, 2024  \n[checkpoints](/stanford-futuredata/ARES/tree/main/checkpoints \"checkpoints\")| [checkpoints](/stanford-futuredata/ARES/tree/main/checkpoints \"checkpoints\")| [Gitignore Files](/stanford-futuredata/ARES/commit/86fad39295a4212749f2a8a297ac7a32a6d15a5c \"Gitignore Files\")| Apr 20, 2024  \n[datasets](/stanford-futuredata/ARES/tree/main/datasets \"datasets\")| [datasets](/stanford-futuredata/ARES/tree/main/datasets \"datasets\")| [Add: WoW Synthetic Queries](/stanford-futuredata/ARES/commit/87dba3a0391337a01ac4308de79d9ed17ffc7b72 \"Add: WoW Synthetic Queries\")| Jul 3, 2024  \n[docs](/stanford-futuredata/ARES/tree/main/docs \"docs\")| [docs](/stanford-futuredata/ARES/tree/main/docs \"docs\")| [ARES Logo](/stanford-futuredata/ARES/commit/1ee669d25bfa6ad8b1bada0776e151acd67f9f0c \"ARES Logo\")| Jul 3, 2024  \n[.gitignore](/stanford-futuredata/ARES/blob/main/.gitignore \".gitignore\")| [.gitignore](/stanford-futuredata/ARES/blob/main/.gitignore \".gitignore\")| [vLLM + Azure Update](/stanford-futuredata/ARES/commit/e8b4ccc7743141c56da5fdc6875aef7fd0818041 \"vLLM + Azure Update\")| Nov 4, 2024  \n[CHANGELOG.md](/stanford-futuredata/ARES/blob/main/CHANGELOG.md \"CHANGELOG.md\")| [CHANGELOG.md](/stanford-futuredata/ARES/blob/main/CHANGELOG.md \"CHANGELOG.md\")| [Fixed bugs and configured pip package.](/stanford-futuredata/ARES/commit/7afdd64ff4e0e354dc741f316e8d133393555cf0 \"Fixed bugs and configured pip package.\")| Mar 10, 2024  \n[LICENSE](/stanford-futuredata/ARES/blob/main/LICENSE \"LICENSE\")| [LICENSE](/stanford-futuredata/ARES/blob/main/LICENSE \"LICENSE\")| [Initial commit](/stanford-futuredata/ARES/commit/eae9040e3628e9f032d8f9c6eeac789a3fe7b3b1 \"Initial commit\")| Sep 27, 2023  \n[MANIFEST.in](/stanford-futuredata/ARES/blob/main/MANIFEST.in \"MANIFEST.in\")| [MANIFEST.in](/stanford-futuredata/ARES/blob/main/MANIFEST.in \"MANIFEST.in\")| [Package updates](/stanford-futuredata/ARES/commit/a68be09040aad5187af526783b232d5a32cb8f99 \"Package updates\")| Apr 26, 2024  \n[README.md](/stanford-futuredata/ARES/blob/main/README.md \"README.md\")| [README.md](/stanford-futuredata/ARES/blob/main/README.md \"README.md\")| [Merge pull request](/stanford-futuredata/ARES/commit/2b7972da852a37d73bc9f6ce4fc80922754b6715 \"Merge pull request #69 from nikil-algomo/readme-Datasetsize-fix\nNQ dataset size in the readme\") [#69](https://github.com/stanford-futuredata/ARES/pull/69) [from nikil-algomo/readme-Datasetsize-fix](/stanford-futuredata/ARES/commit/2b7972da852a37d73bc9f6ce4fc80922754b6715 \"Merge pull request #69 from nikil-algomo/readme-Datasetsize-fix\nNQ dataset size in the readme\")| Nov 4, 2024  \n[pyproject.toml](/stanford-futuredata/ARES/blob/main/pyproject.toml \"pyproject.toml\")| [pyproject.toml](/stanford-futuredata/ARES/blob/main/pyproject.toml \"pyproject.toml\")| [Temporary save of local changes](/stanford-futuredata/ARES/commit/c1d1f8d3633b1525565cf7ca69d1906e316c679d \"Temporary save of local changes\")| Nov 4, 2024  \n[requirements.txt](/stanford-futuredata/ARES/blob/main/requirements.txt \"requirements.txt\")| [requirements.txt](/stanford-futuredata/ARES/blob/main/requirements.txt \"requirements.txt\")| [Bump scikit-learn from 1.2.2 to 1.5.0](/stanford-futuredata/ARES/commit/a9700914f744c5e3b4ba0e920145ea6086577974 \"Bump scikit-learn from 1.2.2 to 1.5.0\nBumps \\[scikit-learn\\]\\(https://github.com/scikit-learn/scikit-learn\\) from 1.2.2 to 1.5.0.\n- \\[Release notes\\]\\(https://github.com/scikit-learn/scikit-learn/releases\\)\n- \\[Commits\\]\\(https://github.com/scikit-learn/scikit-learn/compare/1.2.2...1.5.0\\)\n---\nupdated-dependencies:\n- dependency-name: scikit-learn\n dependency-type: direct:production\n...\nSigned-off-by: dependabot\\[bot\\] <support@github.com>\")| Jul 4, 2024  \n[setup.cfg](/stanford-futuredata/ARES/blob/main/setup.cfg \"setup.cfg\")| [setup.cfg](/stanford-futuredata/ARES/blob/main/setup.cfg \"setup.cfg\")| [ARES Update](/stanford-futuredata/ARES/commit/785c39edde2d47bc70b8cdefaec8af24d68bc61d \"ARES Update\")| Apr 22, 2024  \nView all files  \n  \n## Repository files navigation\n\n  * [README](#)\n  * [Apache-2.0 license](#)\n\n\n\n## ARES: An Automated Evaluation Framework for Retrieval-Augmented Generation Systems\n\n[](#ares-an-automated-evaluation-framework-for-retrieval-augmented-generation-systems)\n\nTable of Contents: [Installation](#section1) | [Requirements](#section2) | [Quick Start](#section3) | [Citation](#section4)\n\n[ ![Static Badge](https://camo.githubusercontent.com/6b5d31d21aef4f058e0cba4c287e77711f02b4e274b4f844852aea8c4e7bfc9e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72656c656173652d76302e352e372d626c75653f7374796c653d666c6174266c696e6b3d6874747073253341253246253246707974686f6e2e6f7267253246) ](https://pypi.org/project/ares-ai/) [ ![Static Badge](https://camo.githubusercontent.com/e5529da4fbcd04fedc8999cb76124ef95f3e8784c210c8428adec8ad541eb714/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f526561642d4152455325323050617065722d626c75653f7374796c653d666c6174266c696e6b3d687474707325334125324625324661727869762e6f7267253246616273253246323331312e3039343736) ](https://arxiv.org/abs/2311.09476) [ ![Static Badge](https://camo.githubusercontent.com/31b35c96b78866ba74aa2e2f91a1eef8f38e64100b2e3145bd4e8c2586d9ecd5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f526561642d646f63756d656e746174696f6e2d707572706c653f7374796c653d666c6174) ](https://ares-ai.vercel.app/) [ ![Open In Colab](https://camo.githubusercontent.com/96889048f8a9014fdeba2a891f97150c6aac6e723f5190236b10215a97ed41f3/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667) ](https://colab.research.google.com/drive/1DvXr9SvWOw6xaNW8LHcy9C06LKevDPxe#scrollTo=wBDuO0n5c1mz) [![Static Badge](https://camo.githubusercontent.com/e61f998652eb99f389c16a34b1ee8029a54a3ff4b6dd3f31641a1ad8deb44346/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d507974686f6e2d7265643f7374796c653d666c6174266c696e6b3d6874747073253341253246253246707974686f6e2e6f7267253246)](https://camo.githubusercontent.com/e61f998652eb99f389c16a34b1ee8029a54a3ff4b6dd3f31641a1ad8deb44346/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d507974686f6e2d7265643f7374796c653d666c6174266c696e6b3d6874747073253341253246253246707974686f6e2e6f7267253246)\n\nARES is a groundbreaking framework for evaluating Retrieval-Augmented Generation (RAG) models. The automated process combines synthetic data generation with fine-tuned classifiers to efficiently assess context relevance, answer faithfulness, and answer relevance, minimizing the need for extensive human annotations. ARES employs synthetic query generation and Prediction-Powered Inference (PPI), providing accurate evaluations with statistical confidence.\n\n### üí¨ Mini Q&A\n\n[](#-mini-qa)\n\n**What does ARES assess in RAG models?**\n\nARES conducts a comprehensive evaluation of Retrieval-Augmented Generation (RAG) models, assessing the systems for context relevance, answer faithfulness, and answer relevance. This thorough assessment ensures a complete understanding of the performance of the RAG system.\n\n**How does ARES automate the evaluation process?**\n\nARES minimizes the need for human labeling by leveraging fine-tuned classifiers and synthetic data. Its PPI component, Prediction-Powered inference, refines evaluations considering model response variability and provides statistical confidence in the results. By using fine-tuned classifiers and synthetically generated data, ARES cuts down on human labeling needs while providing accurate assessments.\n\n**Can ARES handle my custom RAG model?**\n\nYes, ARES is a model-agnostic tool that enables you to generate synthetic queries and answers from your documents. With ARES, you can evaluate these generated queries and answers from your RAG model. ‚Äã\n\n### ‚öôÔ∏è Installation\n\n[](#Ô∏è-installation)\n\n‚Äã To install ARES, run the following commands: ‚Äã \n\n```\npip install ares-ai\n```\n\n‚Äã _Optional: Initalize OpenAI or TogetherAI API key with the following command:_\n\n```\nexport OPENAI_API_KEY=<your key here> export TOGETHER_API_KEY=<your key here>\n```\n\n### üìù Requirements\n\n[](#-requirements)\n\nTo implement ARES for scoring your RAG system and comparing to other RAG configurations, you need three components:‚Äã\n\n  * A human preference validation set of annotated query, document, and answer triples for the evaluation criteria (e.g. context relevance, answer faithfulness, and/or answer relevance). There should be at least 50 examples but several hundred examples is ideal.\n  * A set of few-shot examples for scoring context relevance, answer faithfulness, and/or answer relevance in your system\n  * A much larger set of unlabeled query-document-answer triples outputted by your RAG system for scoring\n\n\n\nTo get started with ARES, you'll need to set up your configuration. Below is an example of a configuration for ARES!\n\nCopy-paste each step to see ARES in action!\n\n### üì• Download datasets\n\n[](#-download-datasets)\n\nUse the following command to quickly obtain the necessary files for getting started! This includes the 'few_shot_prompt' file for judge scoring and synthetic query generation, as well as both labeled and unlabeled datasets.\n\n```\nwget https://raw.githubusercontent.com/stanford-futuredata/ARES/main/datasets/example_files/nq_few_shot_prompt_for_judge_scoring.tsv wget https://raw.githubusercontent.com/stanford-futuredata/ARES/main/datasets/example_files/nq_few_shot_prompt_for_synthetic_query_generation.tsv wget https://raw.githubusercontent.com/stanford-futuredata/ARES/main/datasets/example_files/nq_labeled_output.tsv wget https://raw.githubusercontent.com/stanford-futuredata/ARES/main/datasets/example_files/nq_unlabeled_output.tsv\n```\n\nOPTIONAL: You can run the following command to get the full NQ dataset! (37.3 GB)\n\n```\nfrom ares import ARES ares = ARES() ares.KILT_dataset(\"nq\") # Fetches NQ datasets with ratios including 0.5, 0.6, 0.7, etc. # For purposes of our quick start guide, we rename nq_ratio_0.5 to nq_unlabeled_output and nq_labeled_output.\n```\n\n### üöÄ Quick Start - #1\n\n[](#-quick-start---1)\n\nTo get started with ARES's PPI, you'll need to set up your configuration. Below is an example of a configuration for ARES!\n\nJust copy-paste as you go to see ARES in action!\n\n#### Step 1) Run the following to retrieve the UES/IDP scores with GPT3.5!\n\n[](#step-1-run-the-following-to-retrieve-the-uesidp-scores-with-gpt35)\n\n```\nfrom ares import ARES ues_idp_config = { \"in_domain_prompts_dataset\": \"nq_few_shot_prompt_for_judge_scoring.tsv\", \"unlabeled_evaluation_set\": \"nq_unlabeled_output.tsv\", \"model_choice\" : \"gpt-3.5-turbo-0125\" } ares = ARES(ues_idp=ues_idp_config) results = ares.ues_idp() print(results) # {'Context Relevance Scores': [Score], 'Answer Faithfulness Scores': [Score], 'Answer Relevance Scores': [Score]}\n```\n\n#### Step 2) Run the following to retrive ARES's PPI scores with GPT3.5!\n\n[](#step-2-run-the-following-to-retrive-aress-ppi-scores-with-gpt35)\n\n```\nppi_config = { \"evaluation_datasets\": ['nq_unlabeled_output.tsv'], \"few_shot_examples_filepath\": \"nq_few_shot_prompt_for_judge_scoring.tsv\", \"llm_judge\": \"gpt-3.5-turbo-1106\", \"labels\": [\"Context_Relevance_Label\"], \"gold_label_path\": \"nq_labeled_output.tsv\", } ares = ARES(ppi=ppi_config) results = ares.evaluate_RAG() print(results)\n```\n\n### üöÄ Quick Start - #2\n\n[](#-quick-start---2)\n\n#### Step 1) Run the following to see GPT 3.5's accuracy on the NQ unlabeled dataset!\n\n[](#step-1-run-the-following-to-see-gpt-35s-accuracy-on-the-nq-unlabeled-dataset)\n\n```\nfrom ares import ARES ues_idp_config = { \"in_domain_prompts_dataset\": \"nq_few_shot_prompt_for_judge_scoring.tsv\", \"unlabeled_evaluation_set\": \"nq_unlabeled_output.tsv\", \"model_choice\" : \"gpt-3.5-turbo-0125\" } ares = ARES(ues_idp=ues_idp_config) results = ares.ues_idp() print(results) # {'Context Relevance Scores': [Score], 'Answer Faithfulness Scores': [Score], 'Answer Relevance Scores': [Score]}\n```\n\n#### Step 2) Run the following to see ARES's synthetic generation in action!\n\n[](#step-2-run-the-following-to-see-aress-synthetic-generation-in-action)\n\n```\nfrom ares import ARES synth_config = { \"document_filepaths\": [\"nq_labeled_output.tsv\"] , \"few_shot_prompt_filename\": \"nq_few_shot_prompt_for_synthetic_query_generation.tsv\", \"synthetic_queries_filenames\": [\"synthetic_queries_1.tsv\"], \"documents_sampled\": 6189 } ares_module = ARES(synthetic_query_generator=synth_config) results = ares_module.generate_synthetic_data() print(results)\n```\n\n#### Step 3) Run the following to see ARES's training classifier in action!\n\n[](#step-3-run-the-following-to-see-aress-training-classifier-in-action)\n\n```\nfrom ares import ARES classifier_config = { \"training_dataset\": [\"synthetic_queries_1.tsv\"], \"validation_set\": [\"nq_labeled_output.tsv\"], \"label_column\": [\"Context_Relevance_Label\"], \"num_epochs\": 10, \"patience_value\": 3, \"learning_rate\": 5e-6, \"assigned_batch_size\": 1, \"gradient_accumulation_multiplier\": 32, } ares = ARES(classifier_model=classifier_config) results = ares.train_classifier() print(results)\n```\n\nNote: This code creates a checkpoint for the trained classifier. Training may take some time. You can download our jointly trained checkpoint on context relevance here!: [Download Checkpoint](https://drive.google.com/file/d/1INyHfZpsUsn5UEBLSRehI9AX08AI12Lt/view?usp=sharing)\n\n#### Step 4) Run the following to see ARES's PPI in action!\n\n[](#step-4-run-the-following-to-see-aress-ppi-in-action)\n\n```\nfrom ares import ARES ppi_config = { \"evaluation_datasets\": ['nq_unlabeled_output.tsv'], \"checkpoints\": [\"Context_Relevance_Label_nq_labeled_output_date_time.pt\"], \"rag_type\": \"question_answering\", \"labels\": [\"Context_Relevance_Label\"], \"gold_label_path\": \"nq_labeled_output.tsv\", } ares = ARES(ppi=ppi_config) results = ares.evaluate_RAG() print(results) # Output Should be:  \"\"\"  Context_Relevance_Label Scoring ARES Ranking ARES Prediction: [0.6056978059262574] ARES Confidence Interval: [[0.547, 0.664]] Number of Examples in Evaluation Set: [4421] Ground Truth Performance: [0.6] ARES LLM Judge Accuracy on Ground Truth Labels: [0.789] Annotated Examples used for PPI: 300 \"\"\"\n```\n\n### üöÄ Local Model Execution with vLLM\n\n[](#-local-model-execution-with-vllm)\n\nARES supports [vLLM](https://github.com/vllm-project/vllm), allowing for local execution of LLM models, offering enhanced privacy and the ability to operate ARES offline. Below are steps to vLLM for ARES's UES/IDP and PPI!\n\n#### 1) UES/IDP w/ vLLM\n\n[](#1-uesidp-w-vllm)\n\n```\nfrom ares import ARES ues_idp_config = { \"in_domain_prompts_dataset\": \"nq_few_shot_prompt_for_judge_scoring.tsv\", \"unlabeled_evaluation_set\": \"nq_unlabeled_output.tsv\", \"model_choice\": \"meta-llama/Llama-2-13b-hf\", # Specify vLLM model \"vllm\": True, # Toggle vLLM to True  \"host_url\": \"http://0.0.0.0:8000/v1\" # Replace with server hosting model followed by \"/v1\" } ares = ARES(ues_idp=ues_idp_config) results = ares.ues_idp() print(results)\n```\n\n#### 2) PPI w/ vLLM\n\n[](#2-ppi-w-vllm)\n\n```\nfrom ares import ARES ppi_config = { \"evaluation_datasets\": ['nq_unabeled_output.tsv'], \"few_shot_examples_filepath\": \"nq_few_shot_prompt_for_judge_scoring.tsv\", \"llm_judge\": \"meta-llama/Llama-2-13b-hf\", # Specify vLLM model \"labels\": [\"Context_Relevance_Label\"], \"gold_label_path\": \"nq_labeled_output.tsv\", \"vllm\": True, # Toggle vLLM to True  \"host_url\": \"http://0.0.0.0:8000/v1\" # Replace with server hosting model followed by \"/v1\" } ares = ARES(ppi=ppi_config) results = ares.evaluate_RAG() print(results)\n```\n\nFor more details, refer to our [documentation](https://ares-ai.vercel.app/).\n\n## Results Replication\n\n[](#results-replication)\n\nWe include synthetic datasets for key experimental results in `synthetic_datasets`. The few-shot prompts used for generation and evaluation are included in `datasets`. We also include instructions for fine-tuning LLM judges in the paper itself. Please reach out to jonsaadfalcon@stanford.edu or manihani@stanford.edu if you have any further questions.\n\n## Citation\n\n[](#citation)\n\nTo cite our work, please use the following Bibtex:\n\n```\n`@misc{saadfalcon2023ares, title={ARES: An Automated Evaluation Framework for Retrieval-Augmented Generation Systems}, author={Jon Saad-Falcon and Omar Khattab and Christopher Potts and Matei Zaharia}, year={2023}, eprint={2311.09476}, archivePrefix={arXiv}, primaryClass={cs.CL} } `\n```\n\n# Appendix\n\n[](#appendix)\n\n### Machine requirements and setup when not using OpenAI API\n\n[](#machine-requirements-and-setup-when-not-using-openai-api)\n\n**Machine requirements**\n\n  * Over ~100 GB of available disk space\n  * GPU \n    * Should work: A100 (e.g. `Standard_NC24ads_A100_v4` on Azure)\n    * Does not work: \n      * Tested on 2023-12-17 with both `Standard_NC6s_v3` and `Standard_NC12s_v3`, and ran into this error: `torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 160.00 MiB (GPU 0; 15.77 GiB total capacity; 15.12 GiB already allocated; 95.44 MiB free; 15.12 GiB reserved in total by PyTorch)`\n\n\n\n**Machine setup**\n\nFor example, on an Azure VM running Linux (ubuntu 20.04), you will need to do the following:\n\n  * Install conda \n    * First set of commands (can copy-paste multiple lines) \n      * `wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh`\n      * `chmod +x Miniconda3-latest-Linux-x86_64.sh`\n      * `./Miniconda3-latest-Linux-x86_64.sh -b`\n    * Second set of commands (can copy-paste multiple lines) \n      * `export PATH=\"~/miniconda3/bin:$PATH\"`\n      * `conda init`\n  * Install gcc \n    * `sudo apt-get -y update`\n    * `sudo apt-get -y upgrade`\n    * `sudo apt-get -y install build-essential`\n    * `sudo apt-get -y install libpcre3-dev`\n  * Install NVIDIA drivers \n    * `sudo apt install ubuntu-drivers-common -y`\n    * `sudo ubuntu-drivers autoinstall`\n    * `sudo reboot`\n    * SSH in again and confirm the installation was successful by running `nvidia-smi`\n  * `cd` to ARES folder and follow the rest of the README\n\n\n\n## About\n\nAutomated Evaluation of RAG Systems \n\n[ares-ai.vercel.app/](https://ares-ai.vercel.app/ \"https://ares-ai.vercel.app/\")\n\n### Resources\n\n[ Readme ](#readme-ov-file)\n\n### License\n\n[ Apache-2.0 license ](#Apache-2.0-1-ov-file)\n\n[ Activity](/stanford-futuredata/ARES/activity)\n\n[ Custom properties](/stanford-futuredata/ARES/custom-properties)\n\n### Stars\n\n[ **532** stars](/stanford-futuredata/ARES/stargazers)\n\n### Watchers\n\n[ **11** watching](/stanford-futuredata/ARES/watchers)\n\n### Forks\n\n[ **54** forks](/stanford-futuredata/ARES/forks)\n\n[ Report repository ](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES&report=stanford-futuredata+%28user%29)\n\n##  [Releases](/stanford-futuredata/ARES/releases)\n\nNo releases published\n\n##  [Packages 0](/orgs/stanford-futuredata/packages?repo_name=ARES)\n\nNo packages published \n\n##  [Contributors 8](/stanford-futuredata/ARES/graphs/contributors)\n\n  * [ ![@jonsaadfalcon](https://avatars.githubusercontent.com/u/41205309?s=64&v=4) ](https://github.com/jonsaadfalcon)\n  * [ ![@robbym-dev](https://avatars.githubusercontent.com/u/92179572?s=64&v=4) ](https://github.com/robbym-dev)\n  * [ ![@dependabot\\[bot\\]](https://avatars.githubusercontent.com/in/29110?s=64&v=4) ](https://github.com/apps/dependabot)\n  * [ ![@AlexisDeschamps](https://avatars.githubusercontent.com/u/12681350?s=64&v=4) ](https://github.com/AlexisDeschamps)\n  * [ ![@WJ44](https://avatars.githubusercontent.com/u/6444535?s=64&v=4) ](https://github.com/WJ44)\n  * [ ![@tm17-abcgen](https://avatars.githubusercontent.com/u/150427853?s=64&v=4) ](https://github.com/tm17-abcgen)\n  * [ ![@elsatch](https://avatars.githubusercontent.com/u/653433?s=64&v=4) ](https://github.com/elsatch)\n  * [ ![@nikil-algomo](https://avatars.githubusercontent.com/u/165323071?s=64&v=4) ](https://github.com/nikil-algomo)\n\n\n\n## Languages\n\n  * [ Python 100.0% ](/stanford-futuredata/ARES/search?l=python)\n\n\n\n## Footer\n\n[ ](https://github.com \"GitHub\") ¬© 2025 GitHub, Inc. \n\n### Footer navigation\n\n  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)\n  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)\n  * [Security](https://github.com/security)\n  * [Status](https://www.githubstatus.com/)\n  * [Docs](https://docs.github.com/)\n  * [Contact](https://support.github.com?tags=dotcom-footer)\n  * Manage cookies \n  * Do not share my personal information \n\n\n\nYou can‚Äôt perform that action at this time. \n",
    "content_quality_score": 0.9,
    "summary": null,
    "child_urls": [
        "https://github.com/stanford-futuredata/ARES/#start-of-content",
        "https://github.com/",
        "https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES%2F",
        "https://github.com/features/copilot",
        "https://github.com/features/security",
        "https://github.com/features/actions",
        "https://github.com/features/codespaces",
        "https://github.com/features/issues",
        "https://github.com/features/code-review",
        "https://github.com/features/discussions",
        "https://github.com/features/code-search",
        "https://github.com/features",
        "https://docs.github.com",
        "https://skills.github.com",
        "https://github.com/enterprise",
        "https://github.com/team",
        "https://github.com/enterprise/startups",
        "https://github.com/solutions/industry/nonprofits",
        "https://github.com/solutions/use-case/devsecops",
        "https://github.com/solutions/use-case/devops",
        "https://github.com/solutions/use-case/ci-cd",
        "https://github.com/solutions/use-case",
        "https://github.com/solutions/industry/healthcare",
        "https://github.com/solutions/industry/financial-services",
        "https://github.com/solutions/industry/manufacturing",
        "https://github.com/solutions/industry/government",
        "https://github.com/solutions/industry",
        "https://github.com/solutions",
        "https://github.com/resources/articles/ai",
        "https://github.com/resources/articles/devops",
        "https://github.com/resources/articles/security",
        "https://github.com/resources/articles/software-development",
        "https://github.com/resources/articles",
        "https://resources.github.com/learn/pathways",
        "https://resources.github.com",
        "https://github.com/customer-stories",
        "https://partner.github.com",
        "https://github.com/solutions/executive-insights",
        "https://github.com/sponsors",
        "https://github.com/readme",
        "https://github.com/topics",
        "https://github.com/trending",
        "https://github.com/collections",
        "https://github.com/enterprise/advanced-security",
        "https://github.com/features/copilot#enterprise",
        "https://github.com/premium-support",
        "https://github.com/pricing",
        "https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax",
        "https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=stanford-futuredata%2FARES",
        "https://github.com/stanford-futuredata",
        "https://github.com/stanford-futuredata/ARES",
        "https://github.com/login?return_to=%2Fstanford-futuredata%2FARES",
        "https://github.com/stanford-futuredata/ARES/blob/main/LICENSE",
        "https://github.com/stanford-futuredata/ARES/stargazers",
        "https://github.com/stanford-futuredata/ARES/forks",
        "https://github.com/stanford-futuredata/ARES/branches",
        "https://github.com/stanford-futuredata/ARES/tags",
        "https://github.com/stanford-futuredata/ARES/activity",
        "https://github.com/stanford-futuredata/ARES/issues",
        "https://github.com/stanford-futuredata/ARES/pulls",
        "https://github.com/stanford-futuredata/ARES/actions",
        "https://github.com/stanford-futuredata/ARES/projects",
        "https://github.com/stanford-futuredata/ARES/security",
        "https://github.com/stanford-futuredata/ARES/pulse",
        "https://github.com/robbym-dev",
        "https://github.com/stanford-futuredata/ARES/commits?author=robbym-dev",
        "https://github.com/stanford-futuredata/ARES/commit/e8b4ccc7743141c56da5fdc6875aef7fd0818041",
        "https://github.com/stanford-futuredata/ARES/commits/main/",
        "https://github.com/stanford-futuredata/ARES/tree/main/ares",
        "https://github.com/stanford-futuredata/ARES/tree/main/checkpoints",
        "https://github.com/stanford-futuredata/ARES/commit/86fad39295a4212749f2a8a297ac7a32a6d15a5c",
        "https://github.com/stanford-futuredata/ARES/tree/main/datasets",
        "https://github.com/stanford-futuredata/ARES/commit/87dba3a0391337a01ac4308de79d9ed17ffc7b72",
        "https://github.com/stanford-futuredata/ARES/tree/main/docs",
        "https://github.com/stanford-futuredata/ARES/commit/1ee669d25bfa6ad8b1bada0776e151acd67f9f0c",
        "https://github.com/stanford-futuredata/ARES/blob/main/.gitignore",
        "https://github.com/stanford-futuredata/ARES/blob/main/CHANGELOG.md",
        "https://github.com/stanford-futuredata/ARES/commit/7afdd64ff4e0e354dc741f316e8d133393555cf0",
        "https://github.com/stanford-futuredata/ARES/commit/eae9040e3628e9f032d8f9c6eeac789a3fe7b3b1",
        "https://github.com/stanford-futuredata/ARES/blob/main/MANIFEST.in",
        "https://github.com/stanford-futuredata/ARES/commit/a68be09040aad5187af526783b232d5a32cb8f99",
        "https://github.com/stanford-futuredata/ARES/blob/main/README.md",
        "https://github.com/stanford-futuredata/ARES/commit/2b7972da852a37d73bc9f6ce4fc80922754b6715",
        "https://github.com/stanford-futuredata/ARES/pull/69",
        "https://github.com/stanford-futuredata/ARES/blob/main/pyproject.toml",
        "https://github.com/stanford-futuredata/ARES/commit/c1d1f8d3633b1525565cf7ca69d1906e316c679d",
        "https://github.com/stanford-futuredata/ARES/blob/main/requirements.txt",
        "https://github.com/stanford-futuredata/ARES/commit/a9700914f744c5e3b4ba0e920145ea6086577974",
        "https://github.com/stanford-futuredata/ARES/blob/main/setup.cfg",
        "https://github.com/stanford-futuredata/ARES/commit/785c39edde2d47bc70b8cdefaec8af24d68bc61d",
        "https://github.com/stanford-futuredata/ARES/",
        "https://github.com/stanford-futuredata/ARES/#ares-an-automated-evaluation-framework-for-retrieval-augmented-generation-systems",
        "https://github.com/stanford-futuredata/ARES/#section1",
        "https://github.com/stanford-futuredata/ARES/#section2",
        "https://github.com/stanford-futuredata/ARES/#section3",
        "https://github.com/stanford-futuredata/ARES/#section4",
        "https://github.com/stanford-futuredata/ARES/#-mini-qa",
        "https://github.com/stanford-futuredata/ARES/#Ô∏è-installation",
        "https://github.com/stanford-futuredata/ARES/#-requirements",
        "https://github.com/stanford-futuredata/ARES/#-download-datasets",
        "https://github.com/stanford-futuredata/ARES/#-quick-start---1",
        "https://github.com/stanford-futuredata/ARES/#step-1-run-the-following-to-retrieve-the-uesidp-scores-with-gpt35",
        "https://github.com/stanford-futuredata/ARES/#step-2-run-the-following-to-retrive-aress-ppi-scores-with-gpt35",
        "https://github.com/stanford-futuredata/ARES/#-quick-start---2",
        "https://github.com/stanford-futuredata/ARES/#step-1-run-the-following-to-see-gpt-35s-accuracy-on-the-nq-unlabeled-dataset",
        "https://github.com/stanford-futuredata/ARES/#step-2-run-the-following-to-see-aress-synthetic-generation-in-action",
        "https://github.com/stanford-futuredata/ARES/#step-3-run-the-following-to-see-aress-training-classifier-in-action",
        "https://github.com/stanford-futuredata/ARES/#step-4-run-the-following-to-see-aress-ppi-in-action",
        "https://github.com/stanford-futuredata/ARES/#-local-model-execution-with-vllm",
        "https://github.com/vllm-project/vllm",
        "https://github.com/stanford-futuredata/ARES/#1-uesidp-w-vllm",
        "https://github.com/stanford-futuredata/ARES/#2-ppi-w-vllm",
        "https://github.com/stanford-futuredata/ARES/#results-replication",
        "https://github.com/stanford-futuredata/ARES/#citation",
        "https://github.com/stanford-futuredata/ARES/#appendix",
        "https://github.com/stanford-futuredata/ARES/#machine-requirements-and-setup-when-not-using-openai-api",
        "https://github.com/stanford-futuredata/ARES/#readme-ov-file",
        "https://github.com/stanford-futuredata/ARES/#Apache-2.0-1-ov-file",
        "https://github.com/stanford-futuredata/ARES/custom-properties",
        "https://github.com/stanford-futuredata/ARES/watchers",
        "https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fstanford-futuredata%2FARES&report=stanford-futuredata+%28user%29",
        "https://github.com/stanford-futuredata/ARES/releases",
        "https://github.com/orgs/stanford-futuredata/packages?repo_name=ARES",
        "https://github.com/stanford-futuredata/ARES/graphs/contributors",
        "https://github.com/jonsaadfalcon",
        "https://github.com/apps/dependabot",
        "https://github.com/AlexisDeschamps",
        "https://github.com/WJ44",
        "https://github.com/tm17-abcgen",
        "https://github.com/elsatch",
        "https://github.com/nikil-algomo",
        "https://github.com/stanford-futuredata/ARES/search?l=python",
        "https://github.com",
        "https://docs.github.com/site-policy/github-terms/github-terms-of-service",
        "https://docs.github.com/site-policy/privacy-policies/github-privacy-statement",
        "https://github.com/security",
        "https://docs.github.com/",
        "https://support.github.com?tags=dotcom-footer",
        "https://github.blog",
        "https://ares-ai.vercel.app/",
        "https://pypi.org/project/ares-ai/",
        "https://arxiv.org/abs/2311.09476",
        "https://colab.research.google.com/drive/1DvXr9SvWOw6xaNW8LHcy9C06LKevDPxe#scrollTo=wBDuO0n5c1mz",
        "https://camo.githubusercontent.com/e61f998652eb99f389c16a34b1ee8029a54a3ff4b6dd3f31641a1ad8deb44346/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d616465253230776974682d507974686f6e2d7265643f7374796c653d666c6174266c696e6b3d6874747073253341253246253246707974686f6e2e6f7267253246",
        "https://drive.google.com/file/d/1INyHfZpsUsn5UEBLSRehI9AX08AI12Lt/view?usp=sharing",
        "mailto:jonsaadfalcon@stanford.edu",
        "mailto:manihani@stanford.edu",
        "https://www.githubstatus.com/"
    ]
}